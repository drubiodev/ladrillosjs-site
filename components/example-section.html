<style>
  /* ============================================
   Examples Section
   ============================================ */
  .examples-section {
    padding: var(--section-padding);
    background: var(--bg-darker);
    overflow-x: hidden;
  }

  .example-tabs {
    display: flex;
    justify-content: center;
    gap: 1rem;
    margin-bottom: 3rem;
    flex-wrap: wrap;
  }

  @media (max-width: 768px) {
    .example-tabs {
      gap: 0.5rem;
      margin-bottom: 2rem;
    }
  }

  .example-tab {
    padding: 0.75rem 1.5rem;
    background: transparent;
    border: 1px solid var(--border);
    color: var(--text-secondary);
    border-radius: 8px;
    cursor: pointer;
    font-size: 1rem;
    font-weight: 600;
    transition: all 0.3s;
  }

  @media (max-width: 768px) {
    .example-tab {
      padding: 0.625rem 1rem;
      font-size: 0.875rem;
    }
  }

  @media (max-width: 480px) {
    .example-tab {
      padding: 0.5rem 0.75rem;
      font-size: 0.8rem;
    }
  }

  .example-tab.active {
    background: var(--primary);
    color: white;
    border-color: var(--primary);
  }

  .example-tab:hover:not(.active) {
    border-color: var(--primary);
    color: var(--text-primary);
  }

  .example-content {
    display: none;
  }

  .example-content.active {
    display: block;
  }

  .example-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 3rem;
    align-items: start;
    max-width: 100%;
  }

  @media (max-width: 1024px) {
    .example-grid {
      grid-template-columns: 1fr;
      gap: 2rem;
    }
  }

  @media (max-width: 768px) {
    .example-grid {
      gap: 1.5rem;
    }
  }

  .example-code {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    max-width: 100%;
    overflow-x: hidden;
  }

  .example-description h3 {
    font-size: 1.75rem;
    margin-bottom: 1rem;
  }

  @media (max-width: 768px) {
    .example-description h3 {
      font-size: 1.5rem;
    }
  }

  @media (max-width: 480px) {
    .example-description h3 {
      font-size: 1.25rem;
    }
  }

  .example-description p {
    color: var(--text-secondary);
    margin-bottom: 2rem;
    line-height: 1.8;
  }

  .feature-list {
    list-style: none;
    padding: 0;
  }

  .feature-list li {
    padding: 0.5rem 0;
    color: var(--text-secondary);
  }

  .feature-list code {
    background: var(--bg-card);
    padding: 0.2rem 0.5rem;
    border-radius: 4px;
    font-size: 0.875rem;
    color: var(--primary-light);
  }
</style>

<section class="examples-section">
  <div class="container">
    <h2 class="section-title">See It In Action</h2>
    <div class="example-tabs">
      <button class="example-tab {activeTab === 'reactive' ? 'active' : ''}" onclick="setActiveTab('reactive')">
        Reactive State
      </button>
      <button class="example-tab {activeTab === 'binding' ? 'active' : ''}" onclick="setActiveTab('binding')">Data Binding</button>
      <button class="example-tab {activeTab === 'events' ? 'active' : ''}" onclick="setActiveTab('events')">Event System</button>
      <button class="example-tab {activeTab === 'conditional' ? 'active' : ''}" onclick="setActiveTab('conditional')">
        Conditional Rendering
      </button>
    </div>
    <!-- Reactive State-->
    <div class="example-content active" $if="activeTab === 'reactive'">
      <div class="example-grid">
        <div class="example-code">
          <code-block filename="counter.html">
            <template>
              <div>
                <h2>Count: {count}</h2>
                <button onclick="increment()">Add</button>
                <button onclick="reset()">Reset</button>
              </div>

              <script>
                let count = 0;

                const increment = () => {
                  count++;
                };

                const reset = () => {
                  count = 0;
                };
              </script>
            </template>
          </code-block>
        </div>
        <div class="example-description">
          <h3>Automatic Re-rendering</h3>
          <p>
            State changes automatically trigger component updates. No need to
            call <code>setState</code> or manage subscriptions manually.
          </p>
          <ul class="feature-list">
            <li>âœ“ Direct variable assignment</li>
            <li>âœ“ Automatic change detection</li>
            <li>âœ“ Minimal re-renders</li>
            <li>âœ“ No boilerplate code</li>
          </ul>
          <div class="demo-output">
            <counter-sample></counter-sample>
          </div>
        </div>
      </div>
    </div>
    <!-- Data Binding -->
    <div class="example-content active" $if="activeTab === 'binding'">
      <div class="example-grid">
        <div class="example-code">
          <code-block filename="form.html">
            <template>
              <div>
                <h2>Hello, {name}!</h2>
                <input type="text" $bind="name" placeholder="Your name" />

                <p>Email: {email}</p>
                <input $bind="email" />

                <label>
                  <input type="checkbox" $bind="subscribe" />
                  Subscribe: {subscribe}
                </label>
              </div>

              <script>
                let name = "World";
                let email = "";
                let subscribe = false;
              </script>
            </template>
          </code-block>
        </div>
        <div class="example-description">
          <h3>Two-Way Data Binding</h3>
          <p>
            Use the <code>$bind</code> attribute for automatic synchronization
            between inputs and state. Works with text inputs, checkboxes,
            selects, and textareas.
          </p>
          <ul class="feature-list">
            <li>âœ“ No manual event handlers</li>
            <li>âœ“ Instant synchronization</li>
            <li>âœ“ Works with all form elements</li>
            <li>âœ“ Clean, declarative syntax</li>
          </ul>
          <two-way-binding-sample></two-way-binding-sample>
        </div>
      </div>
    </div>
    <!-- Event System -->
    <div class="example-content active" $if="activeTab === 'events'">
      <div class="example-grid">
        <div class="example-code">
          <code-block filename="login-form.html">
            <template>
              <button onclick="login()">Login</button>

              <script>
                const login = () => {
                  // Emit event to other components
                  $emit("user-logged-in", {
                    userId: 123,
                    username: "john",
                  });
                };
              </script>
            </template>
          </code-block>
          <code-block filename="header.html">
            <template>
              <header>
                <span $if="{isLoggedIn}"> Welcome, {username}! </span>
              </header>

              <script>
                let isLoggedIn = false;
                let username = "";

                // Listen for events
                $listen("user-logged-in", (user) => {
                  isLoggedIn = true;
                  username = user.username;
                });
              </script>
            </template>
          </code-block>
        </div>
        <div class="example-description">
          <h3>Global Event Bus</h3>
          <p>
            Communicate between components without prop drilling. Emit events
            from one component and listen in others.
          </p>
          <ul class="feature-list">
            <li>âœ“ Cross-component communication</li>
            <li>âœ“ Decoupled architecture</li>
            <li>âœ“ Type-safe event data</li>
            <li>âœ“ Automatic cleanup</li>
          </ul>
          <event-system-sample></event-system-sample>
        </div>
      </div>
    </div>
    <!-- Conditional Rendering -->
    <div class="example-content active" $if="activeTab === 'conditional'">
      <div class="example-grid">
        <div class="example-code">
          <code-block filename="cart.html">
            <template>
             <div class="cart-container">
                <h1>Shopping Cart</h1>
                <button onclick="addToCart()">ðŸ›’ Add To Cart</button>

                <p class="empty-message" $if="{items.length === 0}">Your cart is empty</p>

                <div $else-if="{items.length < 5}">
                  <p class="cart-status">You have {items.length} items</p>
                </div>

                <div $else>
                  <p class="cart-full">Cart is full! ({items.length})</p>
                </div>

                <ul>
                  <li $for="item in items">{item.name}</li>
                </ul>
              </div>

              <script>
                let items = [];
                let counter = 1;

                const addToCart = () => {
                  if (items.length <= 4) {
                    items.push({
                      name: `Item ${counter++}`,
                      qty: Math.floor(Math.random() * 10),
                    });
                  } else {
                    alert("Cart is full! Cannot add more items.");
                  }
                };
              </script>
            </template>
        </div>
        <div class="example-description">
          <h3>Conditional & List Rendering</h3>
          <p>
            Control what gets rendered with intuitive directives. Chain
            conditions with <code>$if</code>, <code>$else-if</code>, and
            <code>$else</code>.
          </p>
          <ul class="feature-list">
            <li>âœ“ Multiple condition chains</li>
            <li>âœ“ List rendering with <code>$for</code></li>
            <li>âœ“ Optimized rendering</li>
            <li>âœ“ Clean template syntax</li>
          </ul>
          <conditional-rendering-sample> </conditional-rendering-sample>
        </div>
      </div>
    </div>
  </div>
</section>

<script type="module">
  import { registerComponents } from "ladrillosjs";
await registerComponents([
  {
          name: "counter-sample",
          path: "./components/samples/counter.html",
          lazy: true,
        },
        {
          name: "two-way-binding-sample",
          path: "./components/samples/form.html",
          lazy: true,
        },
        {
          name: "event-system-sample",
          path: "./components/samples/login-form.html",
          lazy: true,
        },
        {
          name: "conditional-rendering-sample",
          path: "./components/samples/cart.html",
          lazy: true,
        }
])
</script>

<script>
  let activeTab = "reactive";
  let active = "active";

  const setActiveTab = (tab) => {
    activeTab = tab;
  };
</script>